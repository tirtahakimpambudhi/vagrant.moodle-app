# Vagrant Moodle Automation

This repository demonstrates the automation of [Moodle](https://moodle.org/) deployment using [Vagrant](https://www.vagrantup.com/). It provides a reproducible development environment for Moodle, facilitating testing and development.

## Project Structure

The project is organized as follows:

```
vagrant.moodle-app/
├── Makefile
├── README.md
├── Vagrantfile
├── script/
│   ├── moodle_install.sh
│   ├── mysql_install.sh
│   ├── mysql_secure_installation.sh
│   └── setup.sh
└── shared/
    ├── credential/
    │   ├── database.json
    │   └── moodle_admin.json
    ├── queries/
    └── script/
```

- **`script/`**: Contains shell scripts for provisioning the virtual machine.
    - **`moodle_install.sh`**: Automates the installation and configuration of Moodle.
    - **`mysql_install.sh`**: Installs MySQL server and client.
    - **`mysql_secure_installation.sh`**: Secures the MySQL installation by setting root passwords, removing anonymous users, and other security measures.
    - **`setup.sh`**: Sets up the environment, installs necessary packages, and configures services.
- **`shared/`**: Directory for shared resources between the host and guest machines.
    - **`credential/`**: Stores credentials and configuration files.
        - **`database.json`**: Contains database connection details generated by `mysql_secure_installation.sh`.
        - **`moodle_admin.json`**: Contains Moodle administrator credentials generated by `moodle_install.sh`.
    - **`queries/`**: Contains SQL query files used during the setup process.
    - **`script/`**: Additional scripts used for configuration and setup.
- **`Makefile`**: Defines tasks for building, provisioning, and managing the Vagrant environment.
- **`Vagrantfile`**: Configures the virtual machine, including network settings, synced folders, and provisioning scripts.

## Prerequisites

Ensure the following software is installed on your system:

- [Vagrant](https://www.vagrantup.com/downloads)
- [VirtualBox](https://www.virtualbox.org/wiki/Downloads)

## Getting Started

1. **Clone the Repository**:

   ```bash
   git clone https://github.com/tirtahakimpambudhi/vagrant.moodle-app.git
   cd vagrant.moodle-app
   ```

2. **Start the Vagrant Environment**:

   ```bash
   vagrant up
   ```

   This command will download the base box (if not already available), create the virtual machine, and run the provisioning scripts to set up Moodle.

3. **Access Moodle**:

   Once provisioning is complete, Moodle can be accessed at [http://vm-ip/moodle](http://vm-ip/moodle).

## Contributing

Contributions are welcome! To contribute:

1. **Fork the Repository**: Click on the 'Fork' button at the top right of this page to create a copy of this repository in your GitHub account.

2. **Clone Your Fork**:

   ```bash
   git clone https://github.com/your-username/vagrant.moodle-app.git
   cd vagrant.moodle-app
   ```

3. **Create a New Branch**:

   ```bash
   git checkout -b feature/your-feature-name
   ```

4. **Make Your Changes**: Implement your feature or fix.

5. **Commit Your Changes**:

   ```bash
   git commit -m "Description of your changes"
   ```

6. **Push to Your Fork**:

   ```bash
   git push origin feature/your-feature-name
   ```

7. **Create a Pull Request**: Navigate to the original repository and click on 'New Pull Request' to submit your changes for review.

Please ensure your code adheres to the project's coding standards and includes appropriate tests.

## References

- [Vagrant Documentation](https://www.vagrantup.com/docs)
- [Moodle Installation Guide](https://docs.moodle.org/310/en/Installing_Moodle)

This setup provides a convenient way to develop and test Moodle in a controlled environment, ensuring consistency across different development setups. 